%% Palatino font:
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{palatino}

% for correct quotes in verbatim
\usepackage{upquote}

\pagestyle{plain} % no running header

\usepackage{tcolorbox}

\newtcolorbox{myquote}{colback=black!10!white, colframe=black!40!white}
% redefine the 'quote' environment to use this 'myquote' environment
\renewenvironment{quote}{\begin{myquote}}{\end{myquote}}


\usepackage{framed} % not sure i need this anymore

\usepackage[T1]{fontenc}
\usepackage{inconsolata}
% \usepackage{ascii}

\definecolor{myshade}{rgb}{1.0 1.0 1.0}
\newtcolorbox{mybox}{colback=myshade!100!white, colframe=myshade!100!white, arc=0.3mm, boxrule=0.1mm, left=1mm}

% I have to only define Shaded if it is already defined.
% The reason is that pandoc does not define the macro if there are not code blocks in the a markdown file.
\ifx \@Shaded \@empty

\renewenvironment{Shaded}{\begin{mybox}}{\end{mybox}}

\definecolor{codecolor}{RGB}{0, 0, 0}

\let\OldTexttt\texttt
%\renewcommand{\texttt}[1]{\OldTexttt{\colorbox{myshade}{\textcolor[rgb]{0.322, 0.380, 0.427}{{#1}}}}}
\renewcommand{\texttt}[1]{\OldTexttt{\colorbox{myshade}{\textcolor[rgb]{0, 0, 0}{{\small #1}}}}}

\renewcommand{\KeywordTok}[1]{\textcolor[rgb]{0, 0, 0}{\textbf{{#1}}}} % def and or not reg
\renewcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.373, 0.298, 0.580}{\textbf{{#1}}}} % print open 
%\renewcommand{\VariableTok}[1]{\textcolor[rgb]{0.500, 0.500, 0.500}{\textbf{{#1}}}} % print open 
\renewcommand{\VariableTok}[1]{\textcolor[rgb]{0.141, 0.392, 0.824}{\textbf{{#1}}}}
\renewcommand{\OperatorTok}[1]{\textcolor[rgb]{0, 0, 0}{{#1}}} % def and or not reg
\renewcommand{\DataTypeTok}[1]{\textcolor[rgb]{1.0,0.13,0.00}{{#1}}}
\renewcommand{\DecValTok}[1]{\textcolor[rgb]{0.655, 0.498, 0.161}{{#1}}}
\renewcommand{\BaseNTok}[1]{\textcolor[rgb]{0.259, 0.592, 0.596}{{#1}}}
\renewcommand{\FloatTok}[1]{\textcolor[rgb]{0.655, 0.498, 0.161}{{#1}}}
%\renewcommand{\CharTok}[1]{\textcolor[rgb]{0.259, 0.592, 0.596}{{#1}}}
\renewcommand{\CharTok}[1]{\textcolor[rgb]{0.678,0.141,0.098}{{#1}}}
\renewcommand{\StringTok}[1]{\textcolor[rgb]{0.678,0.141,0.098}{{#1}}}
\renewcommand{\CommentTok}[1]{\textcolor[rgb]{0.135, 0.134, 0.133}{{#1}}}
%\renewcommand{\CommentTok}[1]{\textcolor[rgb]{0.796,0.188,0.282}{{#1}}} % made comments same color as strings, so they are not colored differently when used as comments.
\renewcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\renewcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\renewcommand{\FunctionTok}[1]{\textcolor[rgb]{0.549, 0.102, 0.063}{\textbf{{#1}}}}  % function name
\renewcommand{\RegionMarkerTok}[1]{{#1}}
\renewcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
%\renewcommand{\NormalTok}[1]{\textcolor[rgb]{0.361,0.451,0.502}{\textbf{{#1}}}}
%\renewcommand{\NormalTok}[1]{\textcolor[rgb]{0.361,0.451,0.502}{{#1}}}

% \renewcommand{\NormalTok}[1]{\textcolor[rgb]{0, 0, 0}{{\fontsize{8}{9} \selectfont #1}}}
\renewcommand{\NormalTok}[1]{\textcolor[rgb]{0, 0, 0}{{#1}}}


\else
  % no code blocks with markup...
\fi


%  % KMT only use subsubsection number (this increments though the book 
%  % when we supress numbering with {-} after each header except Exerisices
\renewcommand\thesubsubsection{\arabic{section}}
\renewcommand\thesubsubsection{\arabic{subsection}}
\renewcommand\thesubsubsection{\arabic{chapter}-\arabic{subsubsection}}

% put number after subsubsection title
\makeatletter
\renewcommand\sectionlinesformat[4]{%
  \Ifstr{#1}{subsubsection}
    {\@hangfrom{\hskip #2}{#4 #3}}
    {\@hangfrom{\hskip #2#3}{#4}}% original definition for other section levels
}
\makeatother
\renewcommand\sectionformat{\enskip\thesection\autodot}